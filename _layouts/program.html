{% include partials/header.html %}
  {% assign nbr_days = site.data.program.days | size -%}

  <h1 class="display-5 {% if nbr_days > 1 -%} mb-2 {%- else -%} mb-4 {%- endif %}">
    {%- if page.title -%}
      {{- page.title -}}
    {%- else -%}
      {{- site.data.lang[site.conference.lang].program.title | default: "Program" -}}
    {%- endif -%}
  </h1>

  {{ content }}

  <div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>
        <!-- The first column for the time slots -->
        <th scope="col" class="text-center">Time</th>

        <!-- Generate a column for each day -->
        {%- for d in site.data.program.days -%}
          <th scope="col" class="text-center">
            {{ d.name }} ({{ d.date }})
          </th>
        {%- endfor -%}
      </tr>
    </thead>

    <tbody>
      <!-- Time Slots (assuming the time slots are in 30-minute increments) -->
      {% assign start_time = '09:00' %}
      {% assign end_time = '17:00' %}
      {% assign time_steps = 30 %} <!-- 30 minutes per step -->

      {% assign current_time = start_time %}
      {% assign time_step_in_minutes = time_steps %}

      <!-- Generate time rows -->
      {% while current_time < end_time %}
        <tr>
          <!-- Display the current time on the left-most column -->
          <th scope="row" class="text-center">{{ current_time }}</th>

          <!-- Loop over each day and display the talks in the correct time slot -->
          {%- for d in site.data.program.days -%}
            <td class="text-center">
              <!-- Loop over the rooms of the current day -->
              {% for room in d.rooms %}
                <!-- Loop over the talks in the current room -->
                {% for talk in room.talks %}
                  {% if current_time == talk.time_start %}
                    <div class="alert alert-info">
                      <strong>{{ talk.name }}</strong><br>
                      <em>{{ room.name }}</em><br>
                      {{ talk.time_start }} - {{ talk.time_end }}
                    </div>
                  {% endif %}
                {% endfor %}
              {% endfor %}
            </td>
          {%- endfor -%}
        </tr>

        <!-- Increment the current time by the time step -->
        {% assign current_time = (current_time | date: "%H:%M") | plus: time_step_in_minutes %}
        {% assign current_time = current_time | date: "%H:%M" %}
      {% endwhile %}
    </tbody>
  </table>
</div>


  {%- if site.conference.talks.main_categories %}
    <h5 class="mt-4">{{ site.data.lang[site.conference.lang].program.legend | default: "BackToTheFuture" }}</h5>
      {%- for main_cat in site.conference.talks.main_categories %}
        <div class="d-block d-sm-inline-block m-1 p-1 pl-2 pr-2 border-soft-{{ main_cat.color }} bg-soft-{{ main_cat.color }} font-weight-normal">
          {{- main_cat.name -}}
        </div>
      {%- endfor -%}
  {%- endif -%}

{% include partials/footer.html %}
